{% extends "app/layouts/home.html" %}
{% load staticfiles %}
{% block styles %}
<link href="{% static 'app/css/dropzone.min.css' %}" rel="stylesheet">
{% endblock %}
{% block content %}
<br>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
        <h2>Please Click anywhere to upload your Synopsis!</h2>
        <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <div class="row">
                <div class="col-md-12">
                <form class="dropzone" id="myDropzone" action="{% url 'student_upload_synopsis' %}" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                </form>
                <button id="submit">
                    Submit Synopsis
                </button>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
<!-- Add any page specific javascript files here -->
<script src="{% static 'app/js/dropzone.min.js' %}"></script>
<script type="text/javascript">
Dropzone.options.myDropzone = {
 
    // Prevents Dropzone from uploading dropped files immediately
    autoProcessQueue: false,
    paramName: "synopsis",
    maxFilesize: 5, // MB
 
    init : function() {
        var submitButton = document.querySelector("#submit")
        myDropzone = this;
 
        submitButton.addEventListener("click", function() {
            myDropzone.processQueue();
            // Tell Dropzone to process all queued files.
        });
 
        // You might want to show the submit button only when
        // files are dropped here:
        this.on("addedfile", function() {
            // Show submit button here and/or inform user to click it.
        });
 
    }
};
</script>
{% endblock %}